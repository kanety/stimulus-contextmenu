{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { Controller } from '@hotwired/stimulus';\nimport '@kanety/stimulus-static-actions';\nimport './index.scss';\n\nexport default class extends Controller {\n  static targets = ['menu', 'context'];\n  static actions = [\n    ['element', 'contextmenu->show'],\n    ['element', 'click@window->hide']\n  ];\n\n  show(e) {\n    if (this.hasContextTarget && !this.contextTarget.contains(e.target)) return;\n\n    this.menuTarget.style.top = `${e.pageY + 1}px`;\n    this.menuTarget.style.left = `${e.pageX + 1}px`;\n    this.toggleClass(true);\n    e.preventDefault();\n  }\n\n  hide(e) {\n    this.toggleClass(false);\n  }\n\n  toggleClass(visible) {\n    if (visible) {\n      this.menuTarget.classList.add('st-contextmenu--visible');\n    } else {\n      this.menuTarget.classList.remove('st-contextmenu--visible');\n    }\n  }\n}\n"],"names":["_Class","Controller","show","e","this","hasContextTarget","contextTarget","contains","target","menuTarget","style","top","pageY","left","pageX","toggleClass","preventDefault","hide","visible","classList","add","remove","targets","actions"],"mappings":"+EAIeA,MAAAA,UAAcC,EAAWA,WAOtCC,IAAAA,CAAKC,GACCC,KAAKC,mBAAqBD,KAAKE,cAAcC,SAASJ,EAAEK,UAE5DJ,KAAKK,WAAWC,MAAMC,IAASR,EAAES,MAAQ,EAAK,KAC9CR,KAAKK,WAAWC,MAAMG,KAAUV,EAAEW,MAAQ,EAAK,KAC/CV,KAAKW,aAAY,GACjBZ,EAAEa,iBACJ,CAEAC,IAAAA,CAAKd,GACHC,KAAKW,aAAY,EACnB,CAEAA,WAAAA,CAAYG,GACNA,EACFd,KAAKK,WAAWU,UAAUC,IAAI,2BAE9BhB,KAAKK,WAAWU,UAAUE,OAAO,0BAErC,EACDrB,EA1BQsB,QAAU,CAAC,OAAQ,WAAUtB,EAC7BuB,QAAU,CACf,CAAC,UAAW,qBACZ,CAAC,UAAW"}