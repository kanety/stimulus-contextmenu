{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["import { Controller } from '@hotwired/stimulus';\nimport '@kanety/stimulus-static-actions';\nimport './index.scss';\n\nexport default class extends Controller {\n  static targets = ['menu', 'context'];\n  static actions = [\n    ['element', 'contextmenu->show'],\n    ['element', 'click@window->hide']\n  ];\n\n  show(e) {\n    if (this.hasContextTarget && !this.contextTarget.contains(e.target)) return;\n\n    this.menuTarget.style.top = `${e.pageY + 1}px`;\n    this.menuTarget.style.left = `${e.pageX + 1}px`;\n    this.toggleClass(true);\n    e.preventDefault();\n  }\n\n  hide(e) {\n    this.toggleClass(false);\n  }\n\n  toggleClass(visible) {\n    if (visible) {\n      this.menuTarget.classList.add('st-contextmenu--visible');\n    } else {\n      this.menuTarget.classList.remove('st-contextmenu--visible');\n    }\n  }\n}\n"],"names":["Controller","show","e","this","hasContextTarget","contextTarget","contains","target","menuTarget","style","top","pageY","left","pageX","toggleClass","preventDefault","hide","visible","classList","add","remove","targets","actions"],"mappings":"kYAI6BA,aAO3BC,KAAKC,GACCC,KAAKC,mBAAqBD,KAAKE,cAAcC,SAASJ,EAAEK,UAE5DJ,KAAKK,WAAWC,MAAMC,IAASR,EAAES,MAAQ,OACzCR,KAAKK,WAAWC,MAAMG,KAAUV,EAAEW,MAAQ,OAC1CV,KAAKW,aAAY,GACjBZ,EAAEa,kBAGJC,KAAKd,GACHC,KAAKW,aAAY,GAGnBA,YAAYG,GACNA,EACFd,KAAKK,WAAWU,UAAUC,IAAI,2BAE9BhB,KAAKK,WAAWU,UAAUE,OAAO,qCAvB9BC,QAAU,CAAC,OAAQ,aACnBC,QAAU,CACf,CAAC,UAAW,qBACZ,CAAC,UAAW"}